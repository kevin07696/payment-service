# =====================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =====================================
# Use this for production deployment
# ⚠️  WARNING: Use PRODUCTION credentials only

# Server Configuration
PORT=8080
HTTP_PORT=8081
ENVIRONMENT=production

# Database Configuration
# Use managed database service with SSL
DB_SSL_MODE=require
# DATABASE_URL should be provided by your hosting platform

# ===================================
# EPX PAYMENT GATEWAY (PRODUCTION)
# ===================================
# ⚠️  CRITICAL: Use PRODUCTION credentials for live transactions
# Used for: Processing real credit card transactions
# Docs: EPX Server Post API & Browser Post API
# Contact North/EPX support for production URLs

# EPX Server Post API (server-to-server transactions: Sale, Auth, Capture, Refund, Void)
# REQUIRED - no fallback - Contact North for production URL
EPX_SERVER_POST_URL=https://secure.epxnow.com

# EPX Key Exchange API (generates TAC tokens for Browser Post)
# REQUIRED - no fallback - Contact North for production URL
EPX_KEY_EXCHANGE_URL=https://epxnow.com/epx/key_exchange

# EPX Browser Post API (browser-based payment forms for PCI compliance)
# REQUIRED - no fallback - Contact North for production URL
EPX_BROWSER_POST_URL=https://epxnow.com/epx/browser_post

EPX_TIMEOUT=30

# EPX Production Credentials (4-part key)
# ⚠️  DO NOT use sandbox credentials in production
# Contact North/EPX support for your production credentials
EPX_CUST_NBR=YOUR_PROD_CUST_NBR
EPX_MERCH_NBR=YOUR_PROD_MERCH_NBR
EPX_DBA_NBR=YOUR_PROD_DBA_NBR
EPX_TERMINAL_NBR=YOUR_PROD_TERMINAL_NBR

# EPX Browser Post MAC (Merchant Authorization Code)
EPX_MAC=YOUR_PROD_MAC

# ===================================
# NORTH MERCHANT REPORTING API
# ===================================
# Used for: Retrieving merchant data, disputes, chargebacks (NOT for payments)
# Note: Same URL for both sandbox and production

NORTH_MERCHANT_REPORTING_URL=https://api.north.com
NORTH_TIMEOUT=30

# Browser Post Configuration
# Set this to your production domain
CALLBACK_BASE_URL=https://payments.yourdomain.com

# Cron Authentication
# ⚠️  CRITICAL: Use a strong, unique secret for production
# Generate with: openssl rand -base64 32
CRON_SECRET=YOUR_PRODUCTION_SECRET_HERE

# Logging
LOG_LEVEL=info  # Less verbose for production

# ===================================
# SECRET MANAGER CONFIGURATION
# ===================================
# ⚠️  CRITICAL: Use GCP Secret Manager in production
# Used for: Managing merchant MAC keys and sensitive credentials

# Secret Manager Type
SECRET_MANAGER=gcp      # MUST be 'gcp' for production (DO NOT use 'mock')

# Cache TTL (in minutes)
SECRET_CACHE_TTL_MINUTES=5

# GCP Secret Manager Configuration
# ⚠️  REQUIRED for production
GCP_PROJECT_ID=your-gcp-project-production
GOOGLE_APPLICATION_CREDENTIALS=/path/to/gcp-service-account.json

# Secret Path Format:
# GCP: "payment-service/merchants/{merchant_id}/mac"
# Example: "payment-service/merchants/abc123/mac"

# Setup Instructions:
# 1. Create GCP service account with Secret Manager permissions
# 2. Download service account JSON key
# 3. Store secrets in GCP Secret Manager with format:
#    - Secret name: payment-service/merchants/{merchant_id}/mac
#    - Secret value: The MAC key for that merchant
# 4. Set GCP_PROJECT_ID to your GCP project
# 5. Set GOOGLE_APPLICATION_CREDENTIALS to the JSON key path
